{"version":3,"file":"static/js/454.9d99d809.chunk.js","mappings":"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","sources":["redux/users-selectors.js","webpack://social-media/./src/components/Users/UserItem/UserItem.module.scss?47f3","components/Users/UserItem/UserItem.jsx","webpack://social-media/./src/components/Users/Users.module.scss?b204","webpack://social-media/./src/components/Users/UserItem/Pages/Pages.module.scss?e9c8","components/Users/UserItem/Pages/Pages.jsx","components/Users/Users.jsx","components/Users/UsersAPIComponent.jsx","components/Users/UsersContainer.js"],"sourcesContent":["export const getUsers=(state)=>{\r\n    return state.usersPage.users;\r\n}\r\nexport const getPageSize=(state)=>{\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalCount=(state)=>{\r\n    return state.usersPage.totalCount;\r\n}\r\nexport const getCurrentPage=(state)=>{\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching=(state)=>{\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress=(state)=>{\r\n    return state.usersPage.followingInProgress;\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"mainItem\":\"UserItem_mainItem__ybIdp\",\"avatar\":\"UserItem_avatar__6vurI\",\"defaultAvatar\":\"UserItem_defaultAvatar__2wSuG\",\"avatarInfo\":\"UserItem_avatarInfo__8+nW5\",\"followButton\":\"UserItem_followButton__eJDAB\",\"city\":\"UserItem_city__B7B0O\",\"userInfo\":\"UserItem_userInfo__cAeSm\",\"container\":\"UserItem_container__7xtij\",\"status\":\"UserItem_status__QfkZ8\"};","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Style from './UserItem.module.scss'\r\nexport default function UserItem(props) {\r\n    return (\r\n        <div className={Style.container}>\r\n            <div className={Style.mainItem}>\r\n                <div className={Style.avatarInfo}>\r\n                    <Link to={`/profile/${props.id}`}>\r\n                        <img src={props.url} className={props.isDefaultAvatar?Style.defaultAvatar:Style.avatar} />\r\n                    </Link>\r\n                    <button className={Style.followButton} disabled={props.followingInProgress.some(id=>id==props.id)} onClick={() => {props.handleClickFollow()}}>{props.textButton}</button>\r\n                </div>\r\n                <div className={Style.userInfo}>\r\n                    <p>{props.name}</p>\r\n                    <p className={Style.status}>{props.status}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n           /* <div className={Style.city}>\r\n<p>{props.location.city}</p>\r\n<p>{props.location.country}</p>\r\n</div>*/","// extracted by mini-css-extract-plugin\nexport default {\"userContainer\":\"Users_userContainer__LsvQV\",\"usersOnPage\":\"Users_usersOnPage__XHNgm\"};","// extracted by mini-css-extract-plugin\nexport default {\"chosing\":\"Pages_chosing__EjLVq\",\"pageContainer\":\"Pages_pageContainer__aim+i\",\"stringNumbers\":\"Pages_stringNumbers__hBs4g\",\"usualNumberPage\":\"Pages_usualNumberPage__Nq3MJ\",\"center\":\"Pages_center__GhOou\"};","import React, { useEffect, useState } from \"react\";\r\nimport Style from './Pages.module.scss';\r\n\r\nexport default function Pages(props) {\r\n    const [pages, setPages] = useState(new Array(props.infoHowToShow.sizePortion + 1).fill(0).map((num, index) => index + 1));\r\n    useEffect(() => {\r\n        if(!(((props.currentPage>=pages[0]) && (props.currentPage<=pages[pages.length-1])))){\r\n            const newPages = getPagesSize(props.currentPage, props.totalCount, props.pageSize, props.infoHowToShow);\r\n            setPages(newPages);\r\n        }\r\n    } , [pages]);\r\n\r\n    const getPagesSize = (currentPage, totalCount, pageSize, infoHowToShow) => {\r\n        let pagesCount = Math.ceil(totalCount / pageSize);\r\n        let pages = [];\r\n        let minSize = currentPage - infoHowToShow.decreaseIncrease <= 0 ? 1 : currentPage - infoHowToShow.decreaseIncrease;\r\n        let max = minSize + infoHowToShow.sizePortion > pagesCount ? pagesCount : minSize + infoHowToShow.sizePortion;\r\n        for (let i = minSize; i <= max; i++) {\r\n            pages.push(i);\r\n        }\r\n        return pages;\r\n    }\r\n\r\n    const handleClickPage = (item) => {\r\n        props.handlePageChange(item);\r\n        const newPages = getPagesSize(item, props.totalCount, props.pageSize, props.infoHowToShow);\r\n        setPages(newPages);\r\n    }\r\n\r\n    return (\r\n        <ul className={Style.pageContainer}>\r\n            <div className={Style.stringNumbers}>\r\n                {pages.map(item => <li key={item} className={props.currentPage == item ? Style.chosing : Style.usualNumberPage} onClick={() => handleClickPage(item)}>{item}</li>)}\r\n            </div>\r\n        </ul>\r\n    );\r\n}","import React from \"react\";\r\nimport UserItem from \"./UserItem/UserItem\";\r\nimport defaultAvatar from '../../assets/images/avatar.png'\r\nimport Style from './Users.module.scss'\r\nimport Pages from \"./UserItem/Pages/Pages\";\r\n\r\nconst infoHowToShow = {\r\n    sizePortion: 25,\r\n    decreaseIncrease: 12\r\n}\r\n\r\nexport default function Users(props) {\r\n    return (\r\n        <div className={Style.userContainer}>\r\n            <Pages infoHowToShow={infoHowToShow} currentPage={props.currentPage} totalCount={props.totalCount} pageSize={props.pageSize} handlePageChange={props.handlePageChange} />\r\n            <div className={Style.usersOnPage}>\r\n                {\r\n                    props.users.map(item => {\r\n                        return <UserItem textButton={item.followed ? 'Unfollow' : 'Follow'} name={item.name}\r\n                            status={item.status} key={item.id}\r\n                            url={item.photos.small ? item.photos.small : defaultAvatar}\r\n                            isDefaultAvatar={item.photos.small ?false: true}\r\n                            id={item.id}\r\n                            followingInProgress={props.followingInProgress}\r\n                            handleClickFollow={() => props.handleClickFollow(item.id, item.followed)} />\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from \"react\";\r\nimport * as axios from \"axios\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { userAPI } from \"../../api/api\";\r\n\r\nexport default class UsersAPIComponent extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsersThunkCreator(this.props.currentPage, this.props.pageSize);\r\n    }\r\n    handlePageChange = (pageNumber) => {\r\n       this.props.getNewPageUsersTC(pageNumber, this.props.pageSize);\r\n        /*this.props.setCurrentPage(pageNumber);\r\n        this.props.toggleIsFetching(true);\r\n        userAPI.getUsers(pageNumber, this.props.pageSize).then(data => {\r\n            this.props.toggleIsFetching(false);\r\n            this.props.setUsers(data.items);\r\n        })*/\r\n    }\r\n    handleClickFollow=(id, followed)=>{\r\n        this.props.setFollowingInProgress(true, id);\r\n        if(!followed)\r\n        {\r\n            this.props.changeFollowTC(id)\r\n        }\r\n        else{\r\n            this.props.changeUnfollowTC(id);\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n            {this.props.isFetching?<Preloader/>:null}\r\n                <Users totalCount={this.props.totalCount} pageSize={this.props.pageSize} currentPage={this.props.currentPage} handlePageChange={this.handlePageChange}  users={this.props.users}  followingInProgress={this.props.followingInProgress}  handleClickFollow={this.handleClickFollow} />\r\n            </>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport withAuthRedirect from \"../../hoc/withAuthRedirect\";\r\nimport { followAC, setUsersAC, setCurrentPageAC, setTotalUserCountAC, setIsFetchingAC, setFollowingInProgressAC, getUsersThunkCreator, getNewPageUsersTC, changeFollowTC, changeUnfollowTC } from \"../../redux/users-reducer\";\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalCount, getUsers } from \"../../redux/users-selectors\";\r\nimport UsersAPIComponent from \"./UsersAPIComponent\";\r\n\r\n/*let mapStateToProps = (state) => {\r\n    return ({\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalCount: state.usersPage.totalCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress\r\n    })\r\n}*/\r\nlet mapStateToProps = (state) => {\r\n    return ({\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalCount: getTotalCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    })\r\n}\r\n/*\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return ({\r\n        follow: (userId) => {\r\n            dispatch(followAC(userId));\r\n        },\r\n        setUsers: (users) => {\r\n            dispatch(setUsersAC(users));\r\n        },\r\n        setCurrentPage: (currentPage) => {\r\n            dispatch(setCurrentPageAC(currentPage));\r\n        },\r\n        setTotalUserCount: (currentUserCount) => {\r\n            dispatch(setTotalUserCountAC(currentUserCount))\r\n        },\r\n        toggleIsFetching: (isFetching) => {\r\n            dispatch(setIsFetchingAC(isFetching));\r\n        }\r\n    })\r\n}\r\n*/\r\n\r\n\r\n/*let UsersContainer = connect(mapStateToProps, {\r\n    follow: followAC,\r\n    setUsers: setUsersAC,\r\n    setCurrentPage: setCurrentPageAC,\r\n    setTotalUserCount: setTotalUserCountAC,\r\n    toggleIsFetching: setIsFetchingAC,\r\n    setFollowingInProgress: setFollowingInProgressAC,\r\n    getUsersThunkCreator,\r\n    getNewPageUsersTC,\r\n    changeFollowTC,\r\n    changeUnfollowTC\r\n})(UsersAPIComponent);\r\nexport default UsersContainer;*/\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        follow: followAC,\r\n        setUsers: setUsersAC,\r\n        setCurrentPage: setCurrentPageAC,\r\n        setTotalUserCount: setTotalUserCountAC,\r\n        toggleIsFetching: setIsFetchingAC,\r\n        setFollowingInProgress: setFollowingInProgressAC,\r\n        getUsersThunkCreator,\r\n        getNewPageUsersTC,\r\n        changeFollowTC,\r\n        changeUnfollowTC}),\r\n        withAuthRedirect\r\n)(UsersAPIComponent)"],"names":["getUsers","state","usersPage","users","getPageSize","pageSize","getTotalCount","totalCount","getCurrentPage","currentPage","getIsFetching","isFetching","getFollowingInProgress","followingInProgress","UserItem","props","className","Style","to","id","src","url","isDefaultAvatar","disabled","some","onClick","handleClickFollow","textButton","name","status","Pages","useState","Array","infoHowToShow","sizePortion","fill","map","num","index","pages","setPages","useEffect","length","newPages","getPagesSize","pagesCount","Math","ceil","minSize","decreaseIncrease","max","i","push","item","handlePageChange","handleClickPage","Users","followed","photos","small","defaultAvatar","UsersAPIComponent","pageNumber","getNewPageUsersTC","setFollowingInProgress","changeUnfollowTC","changeFollowTC","this","getUsersThunkCreator","Preloader","React","compose","connect","follow","followAC","setUsers","setUsersAC","setCurrentPage","setCurrentPageAC","setTotalUserCount","setTotalUserCountAC","toggleIsFetching","setIsFetchingAC","setFollowingInProgressAC","withAuthRedirect"],"sourceRoot":""}