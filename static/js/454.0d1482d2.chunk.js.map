{"version":3,"file":"static/js/454.0d1482d2.chunk.js","mappings":"+LAAaA,EAAS,SAACC,GACnB,OAAOA,EAAMC,UAAUC,OAEdC,EAAY,SAACH,GACtB,OAAOA,EAAMC,UAAUG,UAEdC,EAAc,SAACL,GACxB,OAAOA,EAAMC,UAAUK,YAEdC,EAAe,SAACP,GACzB,OAAOA,EAAMC,UAAUO,aAEdC,EAAc,SAACT,GACxB,OAAOA,EAAMC,UAAUS,YAEdC,EAAuB,SAACX,GACjC,OAAOA,EAAMC,UAAUW,qB,4DCf3B,EAA2B,2BAA3B,EAA+D,yBAA/D,EAAqG,6BAArG,EAA2K,2BAA3K,EAAkN,4BAAlN,EAAuP,yB,SCExO,SAASC,EAASC,GAC7B,OACI,gBAAKC,UAAWC,EAAhB,UACI,iBAAKD,UAAWC,EAAhB,WACI,iBAAKD,UAAWC,EAAhB,WACI,SAAC,KAAD,CAAMC,GAAE,mBAAcH,EAAMI,IAA5B,UACI,gBAAKC,IAAKL,EAAMM,IAAKL,UAAWC,OAEpC,mBAAQK,SAAUP,EAAMF,oBAAoBU,MAAK,SAAAJ,GAAE,OAAEA,GAAIJ,EAAMI,MAAKK,QAAS,WAAOT,EAAMU,qBAA1F,SAAiHV,EAAMW,iBAE3H,iBAAKV,UAAWC,EAAhB,WACI,uBAAIF,EAAMY,QACV,cAAGX,UAAWC,EAAd,SAA6BF,EAAMa,iB,uBCdvD,EAA0B,uBCGX,SAASC,EAAMd,GAC1B,OAAwBe,EAAAA,EAAAA,UAAS,IAAIC,MAAMhB,EAAMiB,cAAcC,YAAY,GAAGC,KAAK,GAAGC,KAAI,SAACC,EAAIC,GAAL,OAAaA,EAAM,MAA7G,eAAOC,EAAP,KAAcC,EAAd,KAaMC,EAAgB,SAACC,GACnB1B,EAAM2B,iBAAiBD,GACvB,IAAME,EAbS,SAAClC,EAAaF,EAAYF,EAAS2B,GAKlD,IAJA,IAAIY,EAAaC,KAAKC,KAAKvC,EAAaF,GACpCiC,EAAQ,GACRS,EAAUtC,EAAcuB,EAAcgB,kBAAoB,EAAI,EAAIvC,EAAcuB,EAAcgB,iBAC9FC,EAAMF,EAAUf,EAAcC,YAAcW,EAAaA,EAAaG,EAAUf,EAAcC,YACzFiB,EAAIH,EAASG,GAAKD,EAAKC,IAC5BZ,EAAMa,KAAKD,GAEf,OAAOZ,EAKUc,CAAaX,EAAM1B,EAAMR,WAAYQ,EAAMV,SAAUU,EAAMiB,eAC5EO,EAASI,IAGb,OACI,yBACI,yBACKL,EAAMH,KAAI,SAAAM,GAAI,OAAI,eAAezB,UAAWD,EAAMN,aAAegC,EAAOxB,EAAgB,GAAIO,QAAS,kBAAMgB,EAAgBC,IAAzG,SAAiHA,GAAxGA,UCrB5C,IAAMT,EAAgB,CAClBC,YAAa,GACbe,iBAAkB,IAGP,SAASK,EAAMtC,GAC1B,OACI,4BACI,SAACc,EAAD,CAAOG,cAAeA,EAAevB,YAAaM,EAAMN,YAAaF,WAAYQ,EAAMR,WAAYF,SAAUU,EAAMV,SAAUqC,iBAAkB3B,EAAM2B,oBACrJ,yBAEQ3B,EAAMZ,MAAMgC,KAAI,SAAAM,GACZ,OAAO,SAAC3B,EAAD,CAAUY,WAAYe,EAAKa,SAAW,WAAa,SAAU3B,KAAMc,EAAKd,KAC3EC,OAAQa,EAAKb,OACbP,IAAKoB,EAAKc,OAAOC,MAAQf,EAAKc,OAAOC,MAAQC,EAAetC,GAAIsB,EAAKtB,GACrEN,oBAAqBE,EAAMF,oBAC3BY,kBAAmB,kBAAMV,EAAMU,kBAAkBgB,EAAKtB,GAAIsB,EAAKa,YAHrCb,EAAKtB,Y,cCbtCuC,G,QAAAA,SAAAA,IAAAA,EAAAA,EAAAA,GAAAA,EAAAA,GAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,GAAAA,SAAAA,IAAAA,IAAAA,GAAAA,EAAAA,EAAAA,GAAAA,KAAAA,GAAAA,IAAAA,IAAAA,EAAAA,UAAAA,OAAAA,EAAAA,IAAAA,MAAAA,GAAAA,EAAAA,EAAAA,EAAAA,EAAAA,IAAAA,EAAAA,GAAAA,UAAAA,GAwChB,OAxCgBA,EAAAA,EAAAA,KAAAA,MAAAA,EAAAA,CAAAA,MAAAA,OAAAA,KAUjBhB,iBAAmB,SAACiB,GACjB,EAAK5C,MAAM6C,kBAAkBD,EAAY,EAAK5C,MAAMV,WAOtD,EACDoB,kBAAkB,SAACN,EAAImC,GACnB,EAAKvC,MAAM8C,wBAAuB,EAAM1C,GACpCmC,EAWA,EAAKvC,MAAM+C,iBAAiB3C,GAT5B,EAAKJ,MAAMgD,eAAe5C,IAiBjC,EAQA,OARA,yCAvCD,WACI6C,KAAKjD,MAAMkD,qBAAqBD,KAAKjD,MAAMN,YAAauD,KAAKjD,MAAMV,YAOtE,oBAgCD,WACI,OACI,gCACC2D,KAAKjD,MAAMJ,YAAW,SAACuD,EAAA,EAAD,IAAa,MAChC,SAACb,EAAD,CAAO9C,WAAYyD,KAAKjD,MAAMR,WAAYF,SAAU2D,KAAKjD,MAAMV,SAAUI,YAAauD,KAAKjD,MAAMN,YAAaiC,iBAAkBsB,KAAKtB,iBAAmBvC,MAAO6D,KAAKjD,MAAMZ,MAAQU,oBAAqBmD,KAAKjD,MAAMF,oBAAsBY,kBAAmBuC,KAAKvC,2BAG3Q,EAhDgBiC,CAA0BS,EAAAA,YCuD/C,GAZqBC,EAAAA,EAAAA,KAjCC,SAACnE,GACnB,MAAQ,CACJE,MAAOH,EAASC,GAChBI,SAAUD,EAAYH,GACtBM,WAAYD,EAAcL,GAC1BQ,YAAaD,EAAeP,GAC5BU,WAAYD,EAAcT,GAC1BY,oBAAqBD,EAAuBX,MA0BN,CAC1CoE,OAAQC,EAAAA,GACRC,SAAUC,EAAAA,GACVC,eAAgBC,EAAAA,GAChBC,kBAAmBC,EAAAA,GACnBC,iBAAkBC,EAAAA,GAClBjB,uBAAwBkB,EAAAA,GACxBd,qBAAAA,EAAAA,GACAL,kBAAAA,EAAAA,GACAG,eAAAA,EAAAA,GACAD,iBAAAA,EAAAA,IAViBM,CAWlBV,I","sources":["redux/users-selectors.js","webpack://social-media/./src/components/Users/UserItem/UserItem.module.scss?47f3","components/Users/UserItem/UserItem.jsx","webpack://social-media/./src/components/Users/UserItem/Pages/Pages.module.scss?e9c8","components/Users/UserItem/Pages/Pages.jsx","components/Users/Users.jsx","components/Users/UsersAPIComponent.jsx","components/Users/UsersContainer.js"],"sourcesContent":["export const getUsers=(state)=>{\r\n    return state.usersPage.users;\r\n}\r\nexport const getPageSize=(state)=>{\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalCount=(state)=>{\r\n    return state.usersPage.totalCount;\r\n}\r\nexport const getCurrentPage=(state)=>{\r\n    return state.usersPage.currentPage;\r\n}\r\nexport const getIsFetching=(state)=>{\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress=(state)=>{\r\n    return state.usersPage.followingInProgress;\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"mainItem\":\"UserItem_mainItem__ybIdp\",\"avatar\":\"UserItem_avatar__6vurI\",\"avatarInfo\":\"UserItem_avatarInfo__8+nW5\",\"city\":\"UserItem_city__B7B0O\",\"userInfo\":\"UserItem_userInfo__cAeSm\",\"container\":\"UserItem_container__7xtij\",\"status\":\"UserItem_status__QfkZ8\"};","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Style from './UserItem.module.scss'\r\nexport default function UserItem(props) {\r\n    return (\r\n        <div className={Style.container}>\r\n            <div className={Style.mainItem}>\r\n                <div className={Style.avatarInfo}>\r\n                    <Link to={`/profile/${props.id}`}>\r\n                        <img src={props.url} className={Style.avatar} />\r\n                    </Link>\r\n                    <button disabled={props.followingInProgress.some(id=>id==props.id)} onClick={() => {props.handleClickFollow()}}>{props.textButton}</button>\r\n                </div>\r\n                <div className={Style.userInfo}>\r\n                    <p>{props.name}</p>\r\n                    <p className={Style.status}>{props.status}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    );\r\n}\r\n           /* <div className={Style.city}>\r\n<p>{props.location.city}</p>\r\n<p>{props.location.country}</p>\r\n</div>*/","// extracted by mini-css-extract-plugin\nexport default {\"chosing\":\"Pages_chosing__EjLVq\",\"center\":\"Pages_center__GhOou\"};","import React, { useState } from \"react\";\r\nimport Style from './Pages.module.scss';\r\n\r\n\r\nexport default function Pages(props) {\r\n    const [pages, setPages]=useState(new Array(props.infoHowToShow.sizePortion+1).fill(0).map((num,index)=>index+1));\r\n\r\n    const getPagesSize=(currentPage, totalCount, pageSize,infoHowToShow)=> {\r\n        let pagesCount = Math.ceil(totalCount / pageSize);\r\n        let pages = [];\r\n        let minSize = currentPage - infoHowToShow.decreaseIncrease <= 0 ? 1 : currentPage - infoHowToShow.decreaseIncrease;\r\n        let max = minSize + infoHowToShow.sizePortion > pagesCount ? pagesCount : minSize + infoHowToShow.sizePortion;\r\n        for (let i = minSize; i <= max; i++) {\r\n            pages.push(i);\r\n        }\r\n        return pages;\r\n    }\r\n\r\n    const handleClickPage=(item)=>{\r\n        props.handlePageChange(item);\r\n        const newPages = getPagesSize(item, props.totalCount, props.pageSize, props.infoHowToShow);\r\n        setPages(newPages);\r\n    }\r\n\r\n    return (\r\n        <ul>\r\n            <div>\r\n                {pages.map(item => <li key={item} className={props.currentPage == item ? Style.chosing : ''} onClick={() => handleClickPage(item)}>{item}</li>)}\r\n            </div>\r\n        </ul>\r\n    );\r\n}","import React from \"react\";\r\nimport UserItem from \"./UserItem/UserItem\";\r\nimport defaultAvatar from '../../assets/images/avatar.png'\r\nimport Style from './Users.module.scss'\r\nimport Pages from \"./UserItem/Pages/Pages\";\r\n\r\nconst infoHowToShow = {\r\n    sizePortion: 20,\r\n    decreaseIncrease: 10\r\n}\r\n\r\nexport default function Users(props) {\r\n    return (\r\n        <div>\r\n            <Pages infoHowToShow={infoHowToShow} currentPage={props.currentPage} totalCount={props.totalCount} pageSize={props.pageSize} handlePageChange={props.handlePageChange} />\r\n            <div>\r\n                {\r\n                    props.users.map(item => {\r\n                        return <UserItem textButton={item.followed ? 'Unfollow' : 'Follow'} name={item.name}\r\n                            status={item.status} key={item.id}\r\n                            url={item.photos.small ? item.photos.small : defaultAvatar} id={item.id}\r\n                            followingInProgress={props.followingInProgress}\r\n                            handleClickFollow={() => props.handleClickFollow(item.id, item.followed)} />\r\n                    })\r\n                }\r\n            </div>\r\n        </div>\r\n    );\r\n}","import React from \"react\";\r\nimport * as axios from \"axios\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport { userAPI } from \"../../api/api\";\r\n\r\nexport default class UsersAPIComponent extends React.Component {\r\n    componentDidMount() {\r\n        this.props.getUsersThunkCreator(this.props.currentPage, this.props.pageSize);\r\n       /* this.props.toggleIsFetching(true);\r\n        userAPI.getUsers(this.props.currentPage, this.props.pageSize).then(data => {\r\n            this.props.toggleIsFetching(false);\r\n            this.props.setUsers(data.items);\r\n            this.props.setTotalUserCount(data.totalCount);\r\n        })*/\r\n    }\r\n    handlePageChange = (pageNumber) => {\r\n       this.props.getNewPageUsersTC(pageNumber, this.props.pageSize);\r\n        /*this.props.setCurrentPage(pageNumber);\r\n        this.props.toggleIsFetching(true);\r\n        userAPI.getUsers(pageNumber, this.props.pageSize).then(data => {\r\n            this.props.toggleIsFetching(false);\r\n            this.props.setUsers(data.items);\r\n        })*/\r\n    }\r\n    handleClickFollow=(id, followed)=>{\r\n        this.props.setFollowingInProgress(true, id);\r\n        if(!followed)\r\n        {\r\n            this.props.changeFollowTC(id)\r\n           /* userAPI.follow(id).then(response => {\r\n                if (response.data.resultCode == 0) {\r\n                    this.props.follow(id);\r\n                    this.props.setFollowingInProgress(false, id);\r\n                }\r\n            })*/\r\n        }\r\n        else{\r\n            this.props.changeUnfollowTC(id);\r\n           /* userAPI.unfollow(id).then(response => {\r\n                if (response.data.resultCode == 0) {\r\n                    this.props.follow(id);\r\n                    this.props.setFollowingInProgress(false, id);\r\n                }\r\n            })*/\r\n        }\r\n    }\r\n    render() {\r\n        return (\r\n            <>\r\n            {this.props.isFetching?<Preloader/>:null}\r\n                <Users totalCount={this.props.totalCount} pageSize={this.props.pageSize} currentPage={this.props.currentPage} handlePageChange={this.handlePageChange}  users={this.props.users}  followingInProgress={this.props.followingInProgress}  handleClickFollow={this.handleClickFollow} />\r\n            </>\r\n        );\r\n    }\r\n}","import React from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport { followAC, setUsersAC, setCurrentPageAC, setTotalUserCountAC, setIsFetchingAC, setFollowingInProgressAC, getUsersThunkCreator, getNewPageUsersTC, changeFollowTC, changeUnfollowTC } from \"../../redux/users-reducer\";\r\nimport { getCurrentPage, getFollowingInProgress, getIsFetching, getPageSize, getTotalCount, getUsers } from \"../../redux/users-selectors\";\r\nimport UsersAPIComponent from \"./UsersAPIComponent\";\r\n\r\n/*let mapStateToProps = (state) => {\r\n    return ({\r\n        users: state.usersPage.users,\r\n        pageSize: state.usersPage.pageSize,\r\n        totalCount: state.usersPage.totalCount,\r\n        currentPage: state.usersPage.currentPage,\r\n        isFetching: state.usersPage.isFetching,\r\n        followingInProgress: state.usersPage.followingInProgress\r\n    })\r\n}*/\r\nlet mapStateToProps = (state) => {\r\n    return ({\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalCount: getTotalCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    })\r\n}\r\n/*\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return ({\r\n        follow: (userId) => {\r\n            dispatch(followAC(userId));\r\n        },\r\n        setUsers: (users) => {\r\n            dispatch(setUsersAC(users));\r\n        },\r\n        setCurrentPage: (currentPage) => {\r\n            dispatch(setCurrentPageAC(currentPage));\r\n        },\r\n        setTotalUserCount: (currentUserCount) => {\r\n            dispatch(setTotalUserCountAC(currentUserCount))\r\n        },\r\n        toggleIsFetching: (isFetching) => {\r\n            dispatch(setIsFetchingAC(isFetching));\r\n        }\r\n    })\r\n}\r\n*/\r\n\r\n\r\nlet UsersContainer = connect(mapStateToProps, {\r\n    follow: followAC,\r\n    setUsers: setUsersAC,\r\n    setCurrentPage: setCurrentPageAC,\r\n    setTotalUserCount: setTotalUserCountAC,\r\n    toggleIsFetching: setIsFetchingAC,\r\n    setFollowingInProgress: setFollowingInProgressAC,\r\n    getUsersThunkCreator,\r\n    getNewPageUsersTC,\r\n    changeFollowTC,\r\n    changeUnfollowTC\r\n})(UsersAPIComponent);\r\nexport default UsersContainer;"],"names":["getUsers","state","usersPage","users","getPageSize","pageSize","getTotalCount","totalCount","getCurrentPage","currentPage","getIsFetching","isFetching","getFollowingInProgress","followingInProgress","UserItem","props","className","Style","to","id","src","url","disabled","some","onClick","handleClickFollow","textButton","name","status","Pages","useState","Array","infoHowToShow","sizePortion","fill","map","num","index","pages","setPages","handleClickPage","item","handlePageChange","newPages","pagesCount","Math","ceil","minSize","decreaseIncrease","max","i","push","getPagesSize","Users","followed","photos","small","defaultAvatar","UsersAPIComponent","pageNumber","getNewPageUsersTC","setFollowingInProgress","changeUnfollowTC","changeFollowTC","this","getUsersThunkCreator","Preloader","React","connect","follow","followAC","setUsers","setUsersAC","setCurrentPage","setCurrentPageAC","setTotalUserCount","setTotalUserCountAC","toggleIsFetching","setIsFetchingAC","setFollowingInProgressAC"],"sourceRoot":""}