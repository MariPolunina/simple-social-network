"use strict";(self.webpackChunksocial_media=self.webpackChunksocial_media||[]).push([[454],{2454:function(e,n,s){s.r(n),s.d(n,{default:function(){return E}});var r=s(2791),o=s(364),t=s(7781),a=s(1548),l=s(2938),i=function(e){return e.usersPage.users},u=function(e){return e.usersPage.pageSize},c=function(e){return e.usersPage.totalCount},g=function(e){return e.usersPage.currentPage},h=function(e){return e.usersPage.isFetching},f=function(e){return e.usersPage.followingInProgress},p=s(5671),d=s(3144),P=s(9340),m=s(5716),_=(s(4569),s(3504)),w="UserItem_mainItem__ybIdp",C="UserItem_avatar__6vurI",v="UserItem_defaultAvatar__2wSuG",I="UserItem_avatarInfo__8+nW5",j="UserItem_followButton__eJDAB",x="UserItem_userInfo__cAeSm",U="UserItem_container__7xtij",S="UserItem_status__QfkZ8",N=s(184);function k(e){return(0,N.jsx)("div",{className:U,children:(0,N.jsxs)("div",{className:w,children:[(0,N.jsxs)("div",{className:I,children:[(0,N.jsx)(_.rU,{to:"/profile/".concat(e.id),children:(0,N.jsx)("img",{src:e.url,className:e.isDefaultAvatar?v:C})}),(0,N.jsx)("button",{className:j,disabled:e.followingInProgress.some((function(n){return n==e.id})),onClick:function(){e.handleClickFollow()},children:e.textButton})]}),(0,N.jsxs)("div",{className:x,children:[(0,N.jsx)("p",{children:e.name}),(0,N.jsx)("p",{className:S,children:e.status})]})]})})}var F=s(8987),z="Users_userContainer__LsvQV",T="Users_usersOnPage__XHNgm",Z=s(885),b="Pages_chosing__EjLVq",A="Pages_pageContainer__aim+i",y="Pages_stringNumbers__hBs4g",B="Pages_usualNumberPage__Nq3MJ";function D(e){var n=(0,r.useState)(new Array(e.infoHowToShow.sizePortion+1).fill(0).map((function(e,n){return n+1}))),s=(0,Z.Z)(n,2),o=s[0],t=s[1];(0,r.useEffect)((function(){if(!(e.currentPage>=o[0]&&e.currentPage<=o[o.length-1])){var n=a(e.currentPage,e.totalCount,e.pageSize,e.infoHowToShow);t(n)}}),[o]);var a=function(e,n,s,r){for(var o=Math.ceil(n/s),t=[],a=e-r.decreaseIncrease<=0?1:e-r.decreaseIncrease,l=a+r.sizePortion>o?o:a+r.sizePortion,i=a;i<=l;i++)t.push(i);return t};return(0,N.jsx)("ul",{className:A,children:(0,N.jsx)("div",{className:y,children:o.map((function(n){return(0,N.jsx)("li",{className:e.currentPage==n?b:B,onClick:function(){return function(n){e.handlePageChange(n);var s=a(n,e.totalCount,e.pageSize,e.infoHowToShow);t(s)}(n)},children:n},n)}))})})}var H={sizePortion:25,decreaseIncrease:12};function q(e){return(0,N.jsxs)("div",{className:z,children:[(0,N.jsx)(D,{infoHowToShow:H,currentPage:e.currentPage,totalCount:e.totalCount,pageSize:e.pageSize,handlePageChange:e.handlePageChange}),(0,N.jsx)("div",{className:T,children:e.users.map((function(n){return(0,N.jsx)(k,{textButton:n.followed?"Unfollow":"Follow",name:n.name,status:n.status,url:n.photos.small?n.photos.small:F,isDefaultAvatar:!n.photos.small,id:n.id,followingInProgress:e.followingInProgress,handleClickFollow:function(){return e.handleClickFollow(n.id,n.followed)}},n.id)}))})]})}var M=s(8419),V=(s(6713),function(e){(0,P.Z)(s,e);var n=(0,m.Z)(s);function s(){var e;(0,p.Z)(this,s);for(var r=arguments.length,o=new Array(r),t=0;t<r;t++)o[t]=arguments[t];return(e=n.call.apply(n,[this].concat(o))).handlePageChange=function(n){e.props.getNewPageUsersTC(n,e.props.pageSize)},e.handleClickFollow=function(n,s){e.props.setFollowingInProgress(!0,n),s?e.props.changeUnfollowTC(n):e.props.changeFollowTC(n)},e}return(0,d.Z)(s,[{key:"componentDidMount",value:function(){this.props.getUsersThunkCreator(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return(0,N.jsxs)(N.Fragment,{children:[this.props.isFetching?(0,N.jsx)(M.Z,{}):null,(0,N.jsx)(q,{totalCount:this.props.totalCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,handlePageChange:this.handlePageChange,users:this.props.users,followingInProgress:this.props.followingInProgress,handleClickFollow:this.handleClickFollow})]})}}]),s}(r.Component)),E=(0,t.qC)((0,o.$j)((function(e){return{users:i(e),pageSize:u(e),totalCount:c(e),currentPage:g(e),isFetching:h(e),followingInProgress:f(e)}}),{follow:l.mG,setUsers:l.fv,setCurrentPage:l.Io,setTotalUserCount:l.NC,toggleIsFetching:l.VD,setFollowingInProgress:l.o5,getUsersThunkCreator:l.Uk,getNewPageUsersTC:l.So,changeFollowTC:l.c2,changeUnfollowTC:l.SS}),a.Z)(V)}}]);
//# sourceMappingURL=454.9d99d809.chunk.js.map